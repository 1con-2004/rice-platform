<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数据统计 - 智慧农业溯源管理后台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="../assets/styles.css" rel="stylesheet">
    <style>
        .admin-layout {
            background: #f8fafc;
            min-height: 100vh;
        }
        
        .admin-header {
            background: linear-gradient(135deg, #1e293b, #334155);
            color: white;
            padding: 16px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .admin-nav {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 0 24px;
            display: flex;
            align-items: center;
            gap: 32px;
            overflow-x: auto;
        }
        
        .nav-item {
            padding: 16px 0;
            border-bottom: 2px solid transparent;
            color: #64748b;
            text-decoration: none;
            white-space: nowrap;
            transition: all 0.2s ease;
        }
        
        .nav-item.active {
            color: #7c3aed;
            border-bottom-color: #7c3aed;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }
        
        .stat-card {
            background: white;
            padding: 24px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #16a34a, #059669);
        }
        
        .stat-card.purple::before {
            background: linear-gradient(90deg, #7c3aed, #5b21b6);
        }
        
        .stat-card.blue::before {
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
        }
        
        .stat-card.orange::before {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #1f2937, #374151);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }
        
        .stat-trend {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .trend-up {
            color: #16a34a;
        }
        
        .trend-down {
            color: #dc2626;
        }
        
        .chart-container {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            margin-bottom: 24px;
            position: relative;
        }
        
        .chart-header {
            display: flex;
            align-items: center;
            justify-content: between;
            margin-bottom: 24px;
        }
        
        .chart-title {
            font-size: 18px;
            font-weight: 700;
            color: #1f2937;
        }
        
        .chart-selector {
            display: flex;
            gap: 8px;
            background: #f1f5f9;
            border-radius: 8px;
            padding: 4px;
        }
        
        .chart-selector button {
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .chart-selector button.active {
            background: #7c3aed;
            color: white;
        }
        
        .chart-selector button:not(.active) {
            color: #64748b;
            background: transparent;
        }
        
        .chart-placeholder {
            height: 300px;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px dashed #cbd5e1;
            position: relative;
            overflow: hidden;
        }
        
        .chart-placeholder::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .simple-chart {
            height: 200px;
            background: linear-gradient(to top, #dcfce7 0%, #f0fdf4 100%);
            border-radius: 8px;
            position: relative;
            margin: 16px 0;
            overflow: hidden;
        }
        
        .chart-bars {
            display: flex;
            align-items: end;
            justify-content: space-around;
            height: 100%;
            padding: 16px;
        }
        
        .chart-bar {
            background: linear-gradient(to top, #16a34a, #22c55e);
            border-radius: 4px 4px 0 0;
            min-width: 20px;
            display: flex;
            align-items: end;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: 600;
            padding-bottom: 4px;
            transition: all 0.3s ease;
        }
        
        .chart-bar:hover {
            transform: scaleY(1.05);
            filter: brightness(1.1);
        }
        
        .data-table {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .table-header {
            background: #f8fafc;
            padding: 16px 24px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .table-row {
            padding: 16px 24px;
            border-bottom: 1px solid #f1f5f9;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
            gap: 16px;
            align-items: center;
            transition: background 0.2s ease;
        }
        
        .table-row:hover {
            background: #f8fafc;
        }
        
        .table-row:last-child {
            border-bottom: none;
        }
        
        .regional-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .regional-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            text-align: center;
        }
        
        .regional-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 12px;
            font-size: 20px;
        }
        
        .filter-bar {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .export-btn {
            background: linear-gradient(135deg, #16a34a, #059669);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(22, 163, 74, 0.3);
        }
        
        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(22, 163, 74, 0.4);
        }
        
        .metric-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .badge-excellent {
            background: #dcfce7;
            color: #16a34a;
        }
        
        .badge-good {
            background: #dbeafe;
            color: #2563eb;
        }
        
        .badge-average {
            background: #fef3c7;
            color: #d97706;
        }
        
        .badge-poor {
            background: #fee2e2;
            color: #dc2626;
        }
    </style>
</head>
<body class="admin-layout">
    <!-- iOS状态栏 -->
    <div class="status-bar">
        <div class="status-left">
            <span>9:41</span>
        </div>
        <div class="status-right">
            <i class="fas fa-signal text-sm"></i>
            <i class="fas fa-wifi text-sm"></i>
            <div class="battery">
                <div class="battery-level"></div>
            </div>
        </div>
    </div>

    <!-- 管理员头部 -->
    <div class="admin-header">
        <div class="flex items-center">
            <button onclick="goBack()" class="text-white text-xl mr-4">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h1 class="text-xl font-bold">智慧农业溯源管理后台</h1>
        </div>
        <div class="flex items-center gap-4">
            <span class="text-sm">管理员：张管理员</span>
            <button class="text-white hover:text-gray-300" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </div>
    </div>

    <!-- 导航栏 -->
    <div class="admin-nav">
        <a href="#" class="nav-item" onclick="switchTab('content')">
            <i class="fas fa-clipboard-check mr-2"></i>
            内容审核
        </a>
        <a href="#" class="nav-item" onclick="switchTab('users')">
            <i class="fas fa-users mr-2"></i>
            用户管理
        </a>
        <a href="#" class="nav-item active">
            <i class="fas fa-chart-bar mr-2"></i>
            数据统计
        </a>
        <a href="#" class="nav-item">
            <i class="fas fa-cog mr-2"></i>
            系统设置
        </a>
    </div>

    <!-- 主内容区域 -->
    <div class="p-6">
        <!-- 时间筛选 -->
        <div class="filter-bar">
            <div class="flex flex-wrap items-center justify-between gap-4">
                <div class="flex items-center gap-4">
                    <div class="flex items-center gap-2">
                        <label class="text-sm font-medium text-gray-700">时间范围：</label>
                        <select class="border border-gray-300 rounded-lg px-3 py-2 text-sm" onchange="changeTimeRange(this.value)">
                            <option value="today">今天</option>
                            <option value="week">本周</option>
                            <option value="month" selected>本月</option>
                            <option value="quarter">本季度</option>
                            <option value="year">本年</option>
                        </select>
                    </div>
                    
                    <div class="flex items-center gap-2">
                        <label class="text-sm font-medium text-gray-700">自定义时间：</label>
                        <input type="date" class="border border-gray-300 rounded-lg px-3 py-2 text-sm" value="2024-07-01">
                        <span class="text-sm text-gray-500">至</span>
                        <input type="date" class="border border-gray-300 rounded-lg px-3 py-2 text-sm" value="2024-07-22">
                    </div>
                </div>
                
                <div class="flex gap-3">
                    <button class="export-btn" onclick="exportReport()">
                        <i class="fas fa-download mr-2"></i>
                        导出报告
                    </button>
                    <button class="export-btn" onclick="refreshData()" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">
                        <i class="fas fa-sync mr-2"></i>
                        刷新数据
                    </button>
                </div>
            </div>
        </div>

        <!-- 核心指标统计 -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h3 class="text-sm font-medium text-gray-600 mb-1">总用户数</h3>
                        <div class="stat-number">1,456</div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>+15 较昨日</span>
                        </div>
                    </div>
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-users text-2xl text-green-600"></i>
                    </div>
                </div>
                <div class="text-xs text-gray-500">
                    活跃用户：1,234 (84.7%)
                </div>
            </div>
            
            <div class="stat-card purple">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h3 class="text-sm font-medium text-gray-600 mb-1">生长记录</h3>
                        <div class="stat-number">23,456</div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>+89 今日新增</span>
                        </div>
                    </div>
                    <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-seedling text-2xl text-purple-600"></i>
                    </div>
                </div>
                <div class="text-xs text-gray-500">
                    平均每用户：16.1条记录
                </div>
            </div>
            
            <div class="stat-card blue">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h3 class="text-sm font-medium text-gray-600 mb-1">买家访问</h3>
                        <div class="stat-number">156.2k</div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>+2.1k 今日</span>
                        </div>
                    </div>
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-eye text-2xl text-blue-600"></i>
                    </div>
                </div>
                <div class="text-xs text-gray-500">
                    平均停留时间：3分42秒
                </div>
            </div>
            
            <div class="stat-card orange">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h3 class="text-sm font-medium text-gray-600 mb-1">客服支持</h3>
                        <div class="stat-number">234</div>
                        <div class="stat-trend trend-down">
                            <i class="fas fa-arrow-down"></i>
                            <span>-12 较昨日</span>
                        </div>
                    </div>
                    <div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-headset text-2xl text-orange-600"></i>
                    </div>
                </div>
                <div class="text-xs text-gray-500">
                    问题解决率：95.3%
                </div>
            </div>
        </div>

        <!-- 趋势图表 -->
        <div class="chart-container">
            <div class="chart-header flex items-center justify-between">
                <h3 class="chart-title">平台增长趋势</h3>
                <div class="chart-selector">
                    <button class="active" onclick="switchChart('users')">用户增长</button>
                    <button onclick="switchChart('content')">内容发布</button>
                    <button onclick="switchChart('visits')">访问量</button>
                </div>
            </div>
            
            <div class="chart-placeholder">
                <div class="text-center">
                    <i class="fas fa-chart-line text-4xl text-gray-400 mb-4"></i>
                    <p class="text-gray-600 font-medium">用户增长趋势图</p>
                    <p class="text-sm text-gray-500">实际项目中可集成 Chart.js 或 ECharts</p>
                </div>
            </div>
        </div>

        <!-- 地区分布统计 -->
        <div class="chart-container">
            <div class="chart-header">
                <h3 class="chart-title">
                    <i class="fas fa-map-marker-alt mr-2 text-green-600"></i>
                    地区分布统计
                </h3>
            </div>
            
            <div class="regional-stats">
                <div class="regional-card">
                    <div class="regional-icon bg-green-100 text-green-600">
                        <i class="fas fa-map"></i>
                    </div>
                    <h4 class="font-bold text-gray-800 mb-1">江苏省</h4>
                    <p class="text-2xl font-bold text-green-600 mb-1">456</p>
                    <p class="text-sm text-gray-600">用户数</p>
                    <div class="simple-chart mt-3">
                        <div class="chart-bars">
                            <div class="chart-bar" style="height: 80%;">80</div>
                            <div class="chart-bar" style="height: 65%;">65</div>
                            <div class="chart-bar" style="height: 90%;">90</div>
                            <div class="chart-bar" style="height: 75%;">75</div>
                        </div>
                    </div>
                </div>
                
                <div class="regional-card">
                    <div class="regional-icon bg-blue-100 text-blue-600">
                        <i class="fas fa-map"></i>
                    </div>
                    <h4 class="font-bold text-gray-800 mb-1">山东省</h4>
                    <p class="text-2xl font-bold text-blue-600 mb-1">342</p>
                    <p class="text-sm text-gray-600">用户数</p>
                    <div class="simple-chart mt-3" style="background: linear-gradient(to top, #dbeafe 0%, #eff6ff 100%);">
                        <div class="chart-bars">
                            <div class="chart-bar" style="height: 70%; background: linear-gradient(to top, #3b82f6, #60a5fa);">70</div>
                            <div class="chart-bar" style="height: 85%; background: linear-gradient(to top, #3b82f6, #60a5fa);">85</div>
                            <div class="chart-bar" style="height: 60%; background: linear-gradient(to top, #3b82f6, #60a5fa);">60</div>
                            <div class="chart-bar" style="height: 95%; background: linear-gradient(to top, #3b82f6, #60a5fa);">95</div>
                        </div>
                    </div>
                </div>
                
                <div class="regional-card">
                    <div class="regional-icon bg-yellow-100 text-yellow-600">
                        <i class="fas fa-map"></i>
                    </div>
                    <h4 class="font-bold text-gray-800 mb-1">河北省</h4>
                    <p class="text-2xl font-bold text-yellow-600 mb-1">289</p>
                    <p class="text-sm text-gray-600">用户数</p>
                    <div class="simple-chart mt-3" style="background: linear-gradient(to top, #fef3c7 0%, #fffbeb 100%);">
                        <div class="chart-bars">
                            <div class="chart-bar" style="height: 55%; background: linear-gradient(to top, #f59e0b, #fbbf24);">55</div>
                            <div class="chart-bar" style="height: 70%; background: linear-gradient(to top, #f59e0b, #fbbf24);">70</div>
                            <div class="chart-bar" style="height: 65%; background: linear-gradient(to top, #f59e0b, #fbbf24);">65</div>
                            <div class="chart-bar" style="height: 80%; background: linear-gradient(to top, #f59e0b, #fbbf24);">80</div>
                        </div>
                    </div>
                </div>
                
                <div class="regional-card">
                    <div class="regional-icon bg-purple-100 text-purple-600">
                        <i class="fas fa-map"></i>
                    </div>
                    <h4 class="font-bold text-gray-800 mb-1">浙江省</h4>
                    <p class="text-2xl font-bold text-purple-600 mb-1">234</p>
                    <p class="text-sm text-gray-600">用户数</p>
                    <div class="simple-chart mt-3" style="background: linear-gradient(to top, #f3e8ff 0%, #faf5ff 100%);">
                        <div class="chart-bars">
                            <div class="chart-bar" style="height: 60%; background: linear-gradient(to top, #7c3aed, #a855f7);">60</div>
                            <div class="chart-bar" style="height: 45%; background: linear-gradient(to top, #7c3aed, #a855f7);">45</div>
                            <div class="chart-bar" style="height: 75%; background: linear-gradient(to top, #7c3aed, #a855f7);">75</div>
                            <div class="chart-bar" style="height: 50%; background: linear-gradient(to top, #7c3aed, #a855f7);">50</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 作物类型统计 -->
        <div class="chart-container">
            <div class="chart-header">
                <h3 class="chart-title">
                    <i class="fas fa-leaf mr-2 text-green-600"></i>
                    作物类型分布
                </h3>
            </div>
            
            <div class="data-table">
                <div class="table-header">
                    <div class="table-row font-semibold text-gray-700">
                        <div>作物类型</div>
                        <div>用户数量</div>
                        <div>记录数量</div>
                        <div>平均关注</div>
                        <div>活跃度</div>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="flex items-center">
                        <i class="fas fa-seedling text-green-600 mr-3"></i>
                        <span class="font-medium">水稻</span>
                    </div>
                    <div class="font-semibold">456</div>
                    <div>8,234</div>
                    <div>1.2k</div>
                    <div><span class="metric-badge badge-excellent">优秀</span></div>
                </div>
                
                <div class="table-row">
                    <div class="flex items-center">
                        <i class="fas fa-wheat-awn text-yellow-600 mr-3"></i>
                        <span class="font-medium">小麦</span>
                    </div>
                    <div class="font-semibold">342</div>
                    <div>6,789</div>
                    <div>856</div>
                    <div><span class="metric-badge badge-good">良好</span></div>
                </div>
                
                <div class="table-row">
                    <div class="flex items-center">
                        <i class="fas fa-corn text-orange-600 mr-3"></i>
                        <span class="font-medium">玉米</span>
                    </div>
                    <div class="font-semibold">289</div>
                    <div>4,567</div>
                    <div>632</div>
                    <div><span class="metric-badge badge-good">良好</span></div>
                </div>
                
                <div class="table-row">
                    <div class="flex items-center">
                        <i class="fas fa-carrot text-red-600 mr-3"></i>
                        <span class="font-medium">蔬菜</span>
                    </div>
                    <div class="font-semibold">234</div>
                    <div>3,456</div>
                    <div>445</div>
                    <div><span class="metric-badge badge-average">一般</span></div>
                </div>
                
                <div class="table-row">
                    <div class="flex items-center">
                        <i class="fas fa-apple-alt text-pink-600 mr-3"></i>
                        <span class="font-medium">果树</span>
                    </div>
                    <div class="font-semibold">135</div>
                    <div>1,890</div>
                    <div>321</div>
                    <div><span class="metric-badge badge-average">一般</span></div>
                </div>
            </div>
        </div>

        <!-- 用户行为分析 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <div class="chart-container">
                <div class="chart-header">
                    <h3 class="chart-title">
                        <i class="fas fa-user-clock mr-2 text-blue-600"></i>
                        用户活跃时段
                    </h3>
                </div>
                
                <div class="simple-chart" style="height: 150px;">
                    <div class="chart-bars">
                        <div class="chart-bar" style="height: 30%;">6</div>
                        <div class="chart-bar" style="height: 45%;">9</div>
                        <div class="chart-bar" style="height: 60%;">12</div>
                        <div class="chart-bar" style="height: 80%;">15</div>
                        <div class="chart-bar" style="height: 70%;">18</div>
                        <div class="chart-bar" style="height: 50%;">21</div>
                    </div>
                </div>
                
                <div class="flex justify-between text-xs text-gray-500 mt-2">
                    <span>6:00</span>
                    <span>9:00</span>
                    <span>12:00</span>
                    <span>15:00</span>
                    <span>18:00</span>
                    <span>21:00</span>
                </div>
            </div>
            
            <div class="chart-container">
                <div class="chart-header">
                    <h3 class="chart-title">
                        <i class="fas fa-mobile-alt mr-2 text-purple-600"></i>
                        设备使用分布
                    </h3>
                </div>
                
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fas fa-mobile-alt text-blue-600 mr-3"></i>
                            <span>手机端</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="w-32 bg-gray-200 rounded-full h-2">
                                <div class="bg-blue-600 h-2 rounded-full" style="width: 85%"></div>
                            </div>
                            <span class="text-sm font-semibold">85%</span>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fas fa-tablet-alt text-green-600 mr-3"></i>
                            <span>平板端</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="w-32 bg-gray-200 rounded-full h-2">
                                <div class="bg-green-600 h-2 rounded-full" style="width: 12%"></div>
                            </div>
                            <span class="text-sm font-semibold">12%</span>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fas fa-desktop text-purple-600 mr-3"></i>
                            <span>电脑端</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="w-32 bg-gray-200 rounded-full h-2">
                                <div class="bg-purple-600 h-2 rounded-full" style="width: 3%"></div>
                            </div>
                            <span class="text-sm font-semibold">3%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 平台健康度指标 -->
        <div class="chart-container">
            <div class="chart-header">
                <h3 class="chart-title">
                    <i class="fas fa-heartbeat mr-2 text-red-600"></i>
                    平台健康度指标
                </h3>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="text-center">
                    <div class="w-24 h-24 mx-auto mb-4 relative">
                        <svg class="w-24 h-24 transform -rotate-90" viewBox="0 0 36 36">
                            <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                                  fill="none" stroke="#e5e7eb" stroke-width="3"/>
                            <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                                  fill="none" stroke="#16a34a" stroke-width="3" 
                                  stroke-dasharray="95, 100" stroke-linecap="round"/>
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="text-2xl font-bold text-green-600">95%</span>
                        </div>
                    </div>
                    <h4 class="font-semibold text-gray-800 mb-2">内容质量</h4>
                    <p class="text-sm text-gray-600">自动审核通过率</p>
                </div>
                
                <div class="text-center">
                    <div class="w-24 h-24 mx-auto mb-4 relative">
                        <svg class="w-24 h-24 transform -rotate-90" viewBox="0 0 36 36">
                            <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                                  fill="none" stroke="#e5e7eb" stroke-width="3"/>
                            <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                                  fill="none" stroke="#3b82f6" stroke-width="3" 
                                  stroke-dasharray="88, 100" stroke-linecap="round"/>
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="text-2xl font-bold text-blue-600">88%</span>
                        </div>
                    </div>
                    <h4 class="font-semibold text-gray-800 mb-2">用户满意度</h4>
                    <p class="text-sm text-gray-600">买家满意度调研</p>
                </div>
                
                <div class="text-center">
                    <div class="w-24 h-24 mx-auto mb-4 relative">
                        <svg class="w-24 h-24 transform -rotate-90" viewBox="0 0 36 36">
                            <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                                  fill="none" stroke="#e5e7eb" stroke-width="3"/>
                            <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                                  fill="none" stroke="#f59e0b" stroke-width="3" 
                                  stroke-dasharray="92, 100" stroke-linecap="round"/>
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="text-2xl font-bold text-orange-600">92%</span>
                        </div>
                    </div>
                    <h4 class="font-semibold text-gray-800 mb-2">系统稳定性</h4>
                    <p class="text-sm text-gray-600">服务可用性</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 切换时间范围
        function changeTimeRange(range) {
            console.log('切换时间范围：', range);
            // 实际应用中这里会重新加载数据
            showDataLoading();
        }

        // 显示数据加载状态
        function showDataLoading() {
            const charts = document.querySelectorAll('.chart-placeholder');
            charts.forEach(chart => {
                chart.innerHTML = `
                    <div class="text-center">
                        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"></div>
                        <p class="text-gray-600">正在加载数据...</p>
                    </div>
                `;
            });
            
            // 2秒后恢复
            setTimeout(() => {
                charts.forEach(chart => {
                    chart.innerHTML = `
                        <div class="text-center">
                            <i class="fas fa-chart-line text-4xl text-gray-400 mb-4"></i>
                            <p class="text-gray-600 font-medium">数据已更新</p>
                            <p class="text-sm text-gray-500">实际项目中显示真实图表</p>
                        </div>
                    `;
                });
            }, 2000);
        }

        // 切换图表类型
        function switchChart(type) {
            // 更新按钮状态
            document.querySelectorAll('.chart-selector button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // 更新图表
            const chartTitles = {
                users: '用户增长趋势图',
                content: '内容发布趋势图',
                visits: '访问量趋势图'
            };
            
            const placeholder = document.querySelector('.chart-placeholder');
            placeholder.innerHTML = `
                <div class="text-center">
                    <i class="fas fa-chart-line text-4xl text-gray-400 mb-4"></i>
                    <p class="text-gray-600 font-medium">${chartTitles[type]}</p>
                    <p class="text-sm text-gray-500">实际项目中可集成 Chart.js 或 ECharts</p>
                </div>
            `;
            
            console.log('切换图表类型：', type);
        }

        // 导出报告
        function exportReport() {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-8 mx-6 max-w-md w-full">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">导出数据报告</h3>
                    <div class="space-y-4 mb-6">
                        <label class="flex items-center">
                            <input type="checkbox" checked class="mr-3">
                            <span>用户统计数据</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" checked class="mr-3">
                            <span>内容发布数据</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" checked class="mr-3">
                            <span>地区分布数据</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="mr-3">
                            <span>详细用户列表</span>
                        </label>
                    </div>
                    <div class="flex gap-3">
                        <button class="flex-1 export-btn" onclick="confirmExport()">
                            确认导出
                        </button>
                        <button class="flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg font-medium" onclick="closeExportModal()">
                            取消
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            window.currentModal = modal;
        }

        // 确认导出
        function confirmExport() {
            alert('数据报告导出中...\n\n将包含：\n- Excel格式的数据表\n- PDF格式的图表报告\n- 时间范围：本月\n\n预计2-3分钟完成');
            closeExportModal();
        }

        // 关闭导出模态框
        function closeExportModal() {
            if (window.currentModal) {
                document.body.removeChild(window.currentModal);
                window.currentModal = null;
            }
        }

        // 刷新数据
        function refreshData() {
            showDataLoading();
            
            // 更新统计数字
            const statNumbers = document.querySelectorAll('.stat-number');
            statNumbers.forEach(num => {
                const currentValue = parseInt(num.textContent.replace(/[^\d]/g, ''));
                const newValue = currentValue + Math.floor(Math.random() * 20) - 10;
                num.textContent = newValue.toLocaleString();
            });
            
            setTimeout(() => {
                alert('数据已刷新到最新状态');
            }, 2000);
        }

        // 切换标签页
        function switchTab(tab) {
            if (tab === 'content') {
                alert('切换到内容审核页面');
            } else if (tab === 'users') {
                alert('切换到用户管理页面');
            }
        }

        // 返回
        function goBack() {
            history.back();
        }

        // 退出登录
        function logout() {
            if (confirm('确定要退出登录吗？')) {
                alert('已退出登录');
            }
        }

        // 页面加载完成
        document.addEventListener('DOMContentLoaded', function() {
            console.log('数据统计页面已加载');
            
            // 模拟实时数据更新
            setInterval(function() {
                // 随机更新一些实时数据
                const randomStat = document.querySelectorAll('.stat-number')[Math.floor(Math.random() * 4)];
                const currentValue = parseInt(randomStat.textContent.replace(/[^\d]/g, ''));
                const newValue = currentValue + Math.floor(Math.random() * 5);
                randomStat.textContent = newValue.toLocaleString();
            }, 30000);

            // 添加图表动画效果
            const chartBars = document.querySelectorAll('.chart-bar');
            chartBars.forEach((bar, index) => {
                setTimeout(() => {
                    bar.style.transform = 'scaleY(0)';
                    bar.style.transformOrigin = 'bottom';
                    bar.style.transition = 'transform 0.8s ease';
                    
                    setTimeout(() => {
                        bar.style.transform = 'scaleY(1)';
                    }, 100);
                }, index * 200);
            });
        });
    </script>
</body>
</html>